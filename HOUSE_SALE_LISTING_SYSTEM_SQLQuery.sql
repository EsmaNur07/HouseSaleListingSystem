-- Veritabanı oluşturma
CREATE DATABASE HouseSaleListingSystem;
GO

USE EvSatisListelemeSistemi;
GO

-- Tabloları oluşturma
-- 1. EMLAK_SIRKETI tablosu
CREATE TABLE EMLAK_SIRKETI (
    FIRMA_NO INT PRIMARY KEY IDENTITY(1,1),
    SIRKET_ADI NVARCHAR(100) NOT NULL,
    ADRES NVARCHAR(255) NOT NULL,
    TELEFON VARCHAR(20) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL,
    WEB_SITESI VARCHAR(100)
);

-- 2. EV_SAHIBI tablosu
CREATE TABLE EV_SAHIBI (
    EV_SAHIBI_ID INT PRIMARY KEY IDENTITY(1,1),
    ISIM NVARCHAR(50) NOT NULL,
    SOYISIM NVARCHAR(50) NOT NULL,
    TELEFON VARCHAR(20) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL
);

-- 3. EV tablosu
CREATE TABLE EV (
    TAPU_NO VARCHAR(20) PRIMARY KEY,
    FIYAT DECIMAL(18, 2) NOT NULL,
    ODA_SAYISI INT NOT NULL,
    METRE_KARE DECIMAL(10, 2) NOT NULL,
    KAT_SAYISI INT NOT NULL,
    KONUT_TIPI NVARCHAR(50) NOT NULL,
    YAPIM_YILI INT NOT NULL,
    DURUM NVARCHAR(20) NOT NULL,
    EV_SAHIBI_ID INT NOT NULL,
    CONSTRAINT FK_EV_EV_SAHIBI FOREIGN KEY (EV_SAHIBI_ID) REFERENCES EV_SAHIBI(EV_SAHIBI_ID)
);

-- 4. ADRES tablosu
CREATE TABLE ADRES (
    ADRES_ID INT PRIMARY KEY IDENTITY(1,1),
    TAPU_NO VARCHAR(20) NOT NULL,
    IL NVARCHAR(50) NOT NULL,
    ILCE NVARCHAR(50) NOT NULL,
    MAHALLE NVARCHAR(100) NOT NULL,
    CADDE NVARCHAR(100),
    SOKAK NVARCHAR(100) NOT NULL,
    BINA_NO VARCHAR(10) NOT NULL,
    DAIRE_NO VARCHAR(10) NOT NULL,
    CONSTRAINT FK_ADRES_EV FOREIGN KEY (TAPU_NO) REFERENCES EV(TAPU_NO)
);

-- 5. SATICI tablosu
CREATE TABLE SATICI (
    SATICI_ID INT PRIMARY KEY IDENTITY(1,1),
    ISIM NVARCHAR(50) NOT NULL,
    SOYISIM NVARCHAR(50) NOT NULL,
    TELEFON VARCHAR(20) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL,
    FIRMA_NO INT,
    CONSTRAINT FK_SATICI_EMLAK_SIRKETI FOREIGN KEY (FIRMA_NO) REFERENCES EMLAK_SIRKETI(FIRMA_NO)
);

-- 6. ALICI tablosu
CREATE TABLE ALICI (
    ALICI_ID INT PRIMARY KEY IDENTITY(1,1),
    ISIM NVARCHAR(50) NOT NULL,
    SOYISIM NVARCHAR(50) NOT NULL,
    TELEFON VARCHAR(20) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL
);

-- 7. KULLANICI_HESABI tablosu
CREATE TABLE KULLANICI_HESABI (
    KULLANICI_ID INT PRIMARY KEY IDENTITY(1,1),
    ISIM NVARCHAR(50) NOT NULL,
    SOYISIM NVARCHAR(50) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL UNIQUE,
    SIFRE VARCHAR(100) NOT NULL,
    TELEFON VARCHAR(20) NOT NULL,
    ONEREN_KULLANICI_ID INT,
    CONSTRAINT FK_KULLANICI_ONEREN FOREIGN KEY (ONEREN_KULLANICI_ID) REFERENCES KULLANICI_HESABI(KULLANICI_ID)
);

-- 8. ILAN tablosu
CREATE TABLE ILAN (
    ILAN_ID INT PRIMARY KEY IDENTITY(1,1),
    TAPU_NO VARCHAR(20) NOT NULL,
    SATICI_ID INT NOT NULL,
    BASLIK NVARCHAR(100) NOT NULL,
    ACIKLAMA NVARCHAR(MAX),
    YAYIN_TARIHI DATETIME NOT NULL,
    FIYAT DECIMAL(18, 2) NOT NULL,
    CONSTRAINT FK_ILAN_EV FOREIGN KEY (TAPU_NO) REFERENCES EV(TAPU_NO),
    CONSTRAINT FK_ILAN_SATICI FOREIGN KEY (SATICI_ID) REFERENCES SATICI(SATICI_ID)
);

-- 9. FAVORILER tablosu
CREATE TABLE FAVORILER (
    FAVORI_ID INT PRIMARY KEY IDENTITY(1,1),
    KULLANICI_ID INT NOT NULL,
    ILAN_ID INT NOT NULL,
    CONSTRAINT FK_FAVORILER_KULLANICI FOREIGN KEY (KULLANICI_ID) REFERENCES KULLANICI_HESABI(KULLANICI_ID),
    CONSTRAINT FK_FAVORILER_ILAN FOREIGN KEY (ILAN_ID) REFERENCES ILAN(ILAN_ID),
    CONSTRAINT UK_FAVORILER UNIQUE (KULLANICI_ID, ILAN_ID)
);

-- 10. BILDIRIM tablosu
CREATE TABLE BILDIRIM (
    BILDIRIM_ID INT PRIMARY KEY IDENTITY(1,1),
    KULLANICI_ID INT NOT NULL,
    BASLIK NVARCHAR(100) NOT NULL,
    GONDERME_TARIHI DATETIME NOT NULL,
    BILDIRIM_TIPI NVARCHAR(50) NOT NULL,
    CONSTRAINT FK_BILDIRIM_KULLANICI FOREIGN KEY (KULLANICI_ID) REFERENCES KULLANICI_HESABI(KULLANICI_ID)
);

-- 11. DEGERLENDIRME tablosu
CREATE TABLE DEGERLENDIRME (
    DEGERLENDIRME_ID INT PRIMARY KEY IDENTITY(1,1),
    KULLANICI_ID INT NOT NULL,
    TAPU_NO VARCHAR(20) NOT NULL,
    PUAN INT NOT NULL CHECK (PUAN BETWEEN 1 AND 5),
    YORUM NVARCHAR(500),
    TARIH DATETIME NOT NULL,
    CONSTRAINT FK_DEGERLENDIRME_KULLANICI FOREIGN KEY (KULLANICI_ID) REFERENCES KULLANICI_HESABI(KULLANICI_ID),
    CONSTRAINT FK_DEGERLENDIRME_EV FOREIGN KEY (TAPU_NO) REFERENCES EV(TAPU_NO),
    CONSTRAINT UK_DEGERLENDIRME UNIQUE (KULLANICI_ID, TAPU_NO)
);

-- 12. REZERVASYON tablosu
CREATE TABLE REZERVASYON (
    REZERVASYON_NO INT PRIMARY KEY IDENTITY(1,1),
    KULLANICI_ID INT NOT NULL,
    TAPU_NO VARCHAR(20) NOT NULL,
    RANDEVU_ZAMANI DATETIME NOT NULL,
    DURUM NVARCHAR(20) NOT NULL, -- Onaylandı, Beklemede, İptal edildi
    CONSTRAINT FK_REZERVASYON_KULLANICI FOREIGN KEY (KULLANICI_ID) REFERENCES KULLANICI_HESABI(KULLANICI_ID),
    CONSTRAINT FK_REZERVASYON_EV FOREIGN KEY (TAPU_NO) REFERENCES EV(TAPU_NO)
);

-- 13. SIGORTA_SIRKETI tablosu
CREATE TABLE SIGORTA_SIRKETI (
    SIRKET_ID INT PRIMARY KEY IDENTITY(1,1),
    SIRKET_ADI NVARCHAR(100) NOT NULL,
    ADRES NVARCHAR(255) NOT NULL,
    TELEFON VARCHAR(20) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL,
    WEB_SITESI VARCHAR(100)
);

-- 14. SIGORTA tablosu
CREATE TABLE SIGORTA (
    POLICE_NO VARCHAR(50) PRIMARY KEY,
    TAPU_NO VARCHAR(20) NOT NULL,
    SIRKET_ID INT NOT NULL,
    BASLANGIC_TARIHI DATE NOT NULL,
    BITIS_TARIHI DATE NOT NULL,
    KAPSAM NVARCHAR(MAX) NOT NULL,
    CONSTRAINT FK_SIGORTA_EV FOREIGN KEY (TAPU_NO) REFERENCES EV(TAPU_NO),
    CONSTRAINT FK_SIGORTA_SIRKET FOREIGN KEY (SIRKET_ID) REFERENCES SIGORTA_SIRKETI(SIRKET_ID)
);

-- 15. VERGI tablosu
CREATE TABLE VERGI (
    VERGI_NO VARCHAR(50) PRIMARY KEY,
    TAPU_NO VARCHAR(20) NOT NULL,
    YIL INT NOT NULL,
    TUTAR DECIMAL(18, 2) NOT NULL,
    SON_ODEME_TARIHI DATE NOT NULL,
    ODEME_DURUMU BIT NOT NULL DEFAULT 0, -- 0: Ödenmedi, 1: Ödendi
    CONSTRAINT FK_VERGI_EV FOREIGN KEY (TAPU_NO) REFERENCES EV(TAPU_NO)
);

-- 16. SATIS tablosu
CREATE TABLE SATIS (
    SATIS_NO INT PRIMARY KEY IDENTITY(1,1),
    TAPU_NO VARCHAR(20) NOT NULL,
    SATICI_ID INT NOT NULL,
    ALICI_ID INT NOT NULL,
    SATIS_TARIHI DATE NOT NULL,
    SATIS_FIYATI DECIMAL(18, 2) NOT NULL,
    CONSTRAINT FK_SATIS_EV FOREIGN KEY (TAPU_NO) REFERENCES EV(TAPU_NO),
    CONSTRAINT FK_SATIS_SATICI FOREIGN KEY (SATICI_ID) REFERENCES SATICI(SATICI_ID),
    CONSTRAINT FK_SATIS_ALICI FOREIGN KEY (ALICI_ID) REFERENCES ALICI(ALICI_ID)
);

-- 17. ODEME tablosu
CREATE TABLE ODEME (
    ODEME_ID INT PRIMARY KEY IDENTITY(1,1),
    SATIS_NO INT NOT NULL,
    TUTAR DECIMAL(18, 2) NOT NULL,
    ODEME_TARIHI DATE NOT NULL,
    ODEME_YONTEMI NVARCHAR(50) NOT NULL,
    ONAY_DURUMU BIT NOT NULL DEFAULT 0, -- 0: Onaylanmadı, 1: Onaylandı
    CONSTRAINT FK_ODEME_SATIS FOREIGN KEY (SATIS_NO) REFERENCES SATIS(SATIS_NO)
);

-- 18. SOZLESME tablosu (Zayıf varlık)
CREATE TABLE SOZLESME (
    SOZLESME_ID INT PRIMARY KEY IDENTITY(1,1),
    SATIS_NO INT NOT NULL UNIQUE,
    BELGE_URL NVARCHAR(255) NOT NULL,
    IMZALANMA_TARIHI DATE NOT NULL,
    CONSTRAINT FK_SOZLESME_SATIS FOREIGN KEY (SATIS_NO) REFERENCES SATIS(SATIS_NO)
);

-- 19. EV_RESIMLERI tablosu (Çok değerli özellik)
CREATE TABLE EV_RESIMLERI (
    RESIM_ID INT PRIMARY KEY IDENTITY(1,1),
    TAPU_NO VARCHAR(20) NOT NULL,
    RESIM_URL NVARCHAR(255) NOT NULL,
    ACIKLAMA NVARCHAR(255),
    CONSTRAINT FK_EV_RESIMLERI_EV FOREIGN KEY (TAPU_NO) REFERENCES EV(TAPU_NO)
);

-- Örnek veri ekleme (her tablodan birkaç örnek)
-- 1. EMLAK_SIRKETI verileri
INSERT INTO EMLAK_SIRKETI (SIRKET_ADI, ADRES, TELEFON, EMAIL, WEB_SITESI)
VALUES 
('Mega Emlak', 'Atatürk Cad. No:123, Kadıköy/İstanbul', '02163334455', 'info@megaemlak.com', 'www.megaemlak.com'),
('Anadolu Gayrimenkul', 'İstiklal Cad. No:45, Beşiktaş/İstanbul', '02122223344', 'info@anadolugayrimenkul.com', 'www.anadolugayrimenkul.com'),
('Yeni Yuva Emlak', 'Cumhuriyet Mah. No:78, Çankaya/Ankara', '03124445566', 'info@yeniyuva.com', 'www.yeniyuva.com');

-- 2. EV_SAHIBI verileri
INSERT INTO EV_SAHIBI (ISIM, SOYISIM, TELEFON, EMAIL)
VALUES 
('Ahmet', 'Yılmaz', '05551112233', 'ahmet.yilmaz@email.com'),
('Ayşe', 'Demir', '05552223344', 'ayse.demir@email.com'),
('Mehmet', 'Kaya', '05553334455', 'mehmet.kaya@email.com'),
('Fatma', 'Çelik', '05554445566', 'fatma.celik@email.com');

-- 3. EV verileri
INSERT INTO EV (TAPU_NO, FIYAT, ODA_SAYISI, METRE_KARE, KAT_SAYISI, KONUT_TIPI, YAPIM_YILI, DURUM, EV_SAHIBI_ID)
VALUES 
('12345/A01', 850000.00, 3, 120.50, 5, 'Daire', 2015, 'Satılık', 1),
('56789/B02', 1200000.00, 4, 160.75, 8, 'Daire', 2018, 'Satılık', 2),
('98765/C03', 2500000.00, 5, 220.00, 2, 'Villa', 2020, 'Satılık', 3),
('54321/D04', 950000.00, 2, 90.25, 10, 'Daire', 2010, 'Satılık', 4);

-- 4. ADRES verileri
INSERT INTO ADRES (TAPU_NO, IL, ILCE, MAHALLE, CADDE, SOKAK, BINA_NO, DAIRE_NO)
VALUES 
('12345/A01', 'İstanbul', 'Kadıköy', 'Caferağa', 'Moda', 'Gül Sokak', '15', '8'),
('56789/B02', 'İstanbul', 'Beşiktaş', 'Levent', 'Büyükdere', 'Papatya Sokak', '42', '12'),
('98765/C03', 'Ankara', 'Çankaya', 'Gaziosmanpaşa', 'Atatürk', 'Lale Sokak', '7', '1'),
('54321/D04', 'İzmir', 'Karşıyaka', 'Bostanlı', 'Cemal Gürsel', 'Menekşe Sokak', '22', '15');

-- 5. SATICI verileri
INSERT INTO SATICI (ISIM, SOYISIM, TELEFON, EMAIL, FIRMA_NO)
VALUES 
('Ali', 'Özkan', '05556667788', 'ali.ozkan@email.com', 1),
('Zeynep', 'Kara', '05557778899', 'zeynep.kara@email.com', 2),
('Mustafa', 'Şahin', '05558889900', 'mustafa.sahin@email.com', 3),
('Deniz', 'Yıldız', '05559990011', 'deniz.yildiz@email.com', 1);

-- 6. ALICI verileri
INSERT INTO ALICI (ISIM, SOYISIM, TELEFON, EMAIL)
VALUES 
('Emre', 'Aydın', '05351112233', 'emre.aydin@email.com'),
('Selin', 'Güneş', '05362223344', 'selin.gunes@email.com'),
('Burak', 'Bulut', '05373334455', 'burak.bulut@email.com');

-- 7. KULLANICI_HESABI verileri
INSERT INTO KULLANICI_HESABI (ISIM, SOYISIM, EMAIL, SIFRE, TELEFON, ONEREN_KULLANICI_ID)
VALUES 
('Can', 'Yücel', 'can.yucel@email.com', 'hash123456', '05321112233', NULL),
('Aylin', 'Türk', 'aylin.turk@email.com', 'hash234567', '05332223344', 1),
('Okan', 'Korkmaz', 'okan.korkmaz@email.com', 'hash345678', '05343334455', 1),
('Ebru', 'Sarı', 'ebru.sari@email.com', 'hash456789', '05354445566', 2);

-- 8. ILAN verileri
INSERT INTO ILAN (TAPU_NO, SATICI_ID, BASLIK, ACIKLAMA, YAYIN_TARIHI, FIYAT)
VALUES 
('12345/A01', 1, 'Kadıköyde Merkezi Konumda 3+1 Daire', 'Moda''da deniz manzaralı, yenilenmiş, geniş balkonlu, otoparkı olan daire.', '2023-01-15', 850000.00),
('56789/B02', 2, 'Levent''te Lüks 4+1 Daire', 'Prestijli sitede güvenlikli, havuzlu, spor salonlu, ebeveyn banyolu daire.', '2023-01-20', 1200000.00),
('98765/C03', 3, 'Çankaya''da Bahçeli 5+2 Villa', 'Bakımlı bahçe, müstakil, şömineli, jakuzili, akıllı ev sistemli villa.', '2023-01-25', 2500000.00),
('54321/D04', 4, 'Karşıyaka''da Deniz Manzaralı 2+1', 'Bostanlı''da yenlenmiş, köşe konumlu, ulaşım ağına yakın daire.', '2023-01-30', 950000.00);

-- 9. FAVORILER verileri
INSERT INTO FAVORILER (KULLANICI_ID, ILAN_ID)
VALUES 
(1, 3),
(2, 1),
(2, 4),
(3, 2),
(4, 3);

-- 10. BILDIRIM verileri
INSERT INTO BILDIRIM (KULLANICI_ID, BASLIK, GONDERME_TARIHI, BILDIRIM_TIPI)
VALUES 
(1, 'Yeni İlan: Villanız için fiyat düşüşü', '2023-02-01 10:15:00', 'Fiyat Güncelleme'),
(2, 'Randevunuz Onaylandı', '2023-02-02 14:30:00', 'Randevu'),
(3, 'Favorilediğiniz ilan satıldı', '2023-02-03 09:45:00', 'Satış Bildirimi'),
(4, 'Yeni İlanlar Eklendi', '2023-02-04 16:20:00', 'Yeni İlan');

-- 11. DEGERLENDIRME verileri
INSERT INTO DEGERLENDIRME (KULLANICI_ID, TAPU_NO, PUAN, YORUM, TARIH)
VALUES 
(1, '98765/C03', 5, 'Muhteşem bir ev, çok memnun kaldık.', '2023-02-10 15:30:00'),
(2, '12345/A01', 4, 'Güzel bir daire, konumu çok merkezi.', '2023-02-11 12:45:00'),
(3, '56789/B02', 5, 'Lüks ve konforlu, tam istediğimiz gibi.', '2023-02-12 10:15:00'),
(4, '54321/D04', 3, 'Konum güzel ama bina biraz eski.', '2023-02-13 14:20:00');

-- 12. REZERVASYON verileri
INSERT INTO REZERVASYON (KULLANICI_ID, TAPU_NO, RANDEVU_ZAMANI, DURUM)
VALUES 
(1, '12345/A01', '2023-02-15 14:00:00', 'Onaylandı'),
(2, '56789/B02', '2023-02-16 11:30:00', 'Beklemede'),
(3, '98765/C03', '2023-02-17 16:45:00', 'Onaylandı'),
(4, '54321/D04', '2023-02-18 10:15:00', 'İptal edildi');

-- 13. SIGORTA_SIRKETI verileri
INSERT INTO SIGORTA_SIRKETI (SIRKET_ADI, ADRES, TELEFON, EMAIL, WEB_SITESI)
VALUES 
('Güven Sigorta', 'İzmir Cad. No:56, Ankara', '03124567890', 'info@guvensigorta.com', 'www.guvensigorta.com'),
('Anadolu Sigorta', 'Barbaros Bulvarı No:123, İstanbul', '02123456789', 'info@anadolusigorta.com', 'www.anadolusigorta.com'),
('Yeni Hayat Sigorta', 'Cumhuriyet Cad. No:45, İzmir', '02324567890', 'info@yenihayat.com', 'www.yenihayat.com');

-- 14. SIGORTA verileri
INSERT INTO SIGORTA (POLICE_NO, TAPU_NO, SIRKET_ID, BASLANGIC_TARIHI, BITIS_TARIHI, KAPSAM)
VALUES 
('POL-2023-001', '12345/A01', 1, '2023-01-01', '2024-01-01', 'Yangın, Deprem, Su Baskını, Hırsızlık'),
('POL-2023-002', '56789/B02', 2, '2023-02-01', '2024-02-01', 'Yangın, Deprem, Doğal Afet, Hırsızlık'),
('POL-2023-003', '98765/C03', 3, '2023-03-01', '2024-03-01', 'Tam Kapsamlı: Yangın, Deprem, Su Baskını, Hırsızlık, Terör'),
('POL-2023-004', '54321/D04', 1, '2023-04-01', '2024-04-01', 'Yangın, Deprem, Cam Kırılması');

-- 15. VERGI verileri
INSERT INTO VERGI (VERGI_NO, TAPU_NO, YIL, TUTAR, SON_ODEME_TARIHI, ODEME_DURUMU)
VALUES 
('VRG-2023-001', '12345/A01', 2023, 1500.00, '2023-05-31', 1),
('VRG-2023-002', '56789/B02', 2023, 2200.00, '2023-05-31', 1),
('VRG-2023-003', '98765/C03', 2023, 4500.00, '2023-05-31', 0),
('VRG-2023-004', '54321/D04', 2023, 1800.00, '2023-05-31', 0);

-- 16. SATIS verileri
INSERT INTO SATIS (TAPU_NO, SATICI_ID, ALICI_ID, SATIS_TARIHI, SATIS_FIYATI)
VALUES 
('12345/A01', 1, 1, '2023-03-10', 840000.00),
('56789/B02', 2, 2, '2023-03-15', 1150000.00);

-- 17. ODEME verileri
INSERT INTO ODEME (SATIS_NO, TUTAR, ODEME_TARIHI, ODEME_YONTEMI, ONAY_DURUMU)
VALUES 
(1, 840000.00, '2023-03-10', 'Banka Transferi', 1),
(2, 1150000.00, '2023-03-15', 'Kredi', 1);

-- 18. SOZLESME verileri
INSERT INTO SOZLESME (SATIS_NO, BELGE_URL, IMZALANMA_TARIHI)
VALUES 
(1, 'https://evdoc.com/sozlesme/12345A01.pdf', '2023-03-10'),
(2, 'https://evdoc.com/sozlesme/56789B02.pdf', '2023-03-15');

-- 19. EV_RESIMLERI verileri
INSERT INTO EV_RESIMLERI (TAPU_NO, RESIM_URL, ACIKLAMA)
VALUES 
('12345/A01', 'https://evimg.com/12345A01/1.jpg', 'Salon'),
('12345/A01', 'https://evimg.com/12345A01/2.jpg', 'Mutfak'),
('12345/A01', 'https://evimg.com/12345A01/3.jpg', 'Yatak Odası'),
('56789/B02', 'https://evimg.com/56789B02/1.jpg', 'Salon'),
('56789/B02', 'https://evimg.com/56789B02/2.jpg', 'Mutfak'),
('98765/C03', 'https://evimg.com/98765C03/1.jpg', 'Dış Görünüm'),
('98765/C03', 'https://evimg.com/98765C03/2.jpg', 'Salon'),
('98765/C03', 'https://evimg.com/98765C03/3.jpg', 'Bahçe'),
('54321/D04', 'https://evimg.com/54321D04/1.jpg', 'Salon'),
('54321/D04', 'https://evimg.com/54321D04/2.jpg', 'Balkon Manzarası');

-- Gerekli indexleri oluşturmak
-- 1. EV tablosu için index
CREATE INDEX IX_EV_EV_SAHIBI_ID ON EV(EV_SAHIBI_ID);
CREATE INDEX IX_EV_FIYAT ON EV(FIYAT);
CREATE INDEX IX_EV_KONUT_TIPI ON EV(KONUT_TIPI);
CREATE INDEX IX_EV_DURUM ON EV(DURUM);

-- 2. ADRES tablosu için index
CREATE INDEX IX_ADRES_TAPU_NO ON ADRES(TAPU_NO);
CREATE INDEX IX_ADRES_IL_ILCE ON ADRES(IL, ILCE);
CREATE INDEX IX_ADRES_MAHALLE ON ADRES(MAHALLE);

-- 3. SATICI tablosu için index
CREATE INDEX IX_SATICI_FIRMA_NO ON SATICI(FIRMA_NO);

-- 4. ILAN tablosu için index
CREATE INDEX IX_ILAN_TAPU_NO ON ILAN(TAPU_NO);
CREATE INDEX IX_ILAN_SATICI_ID ON ILAN(SATICI_ID);
CREATE INDEX IX_ILAN_YAYIN_TARIHI ON ILAN(YAYIN_TARIHI);
CREATE INDEX IX_ILAN_FIYAT ON ILAN(FIYAT);

-- 5. REZERVASYON tablosu için index
CREATE INDEX IX_REZERVASYON_KULLANICI_ID ON REZERVASYON(KULLANICI_ID);
CREATE INDEX IX_REZERVASYON_TAPU_NO ON REZERVASYON(TAPU_NO);
CREATE INDEX IX_REZERVASYON_RANDEVU_ZAMANI ON REZERVASYON(RANDEVU_ZAMANI);

-- 6. SIGORTA tablosu için index
CREATE INDEX IX_SIGORTA_TAPU_NO ON SIGORTA(TAPU_NO);
CREATE INDEX IX_SIGORTA_SIRKET_ID ON SIGORTA(SIRKET_ID);

-- 7. VERGI tablosu için index
CREATE INDEX IX_VERGI_TAPU_NO ON VERGI(TAPU_NO);
CREATE INDEX IX_VERGI_YIL ON VERGI(YIL);

-- 8. SATIS tablosu için index
CREATE INDEX IX_SATIS_TAPU_NO ON SATIS(TAPU_NO);
CREATE INDEX IX_SATIS_SATICI_ID ON SATIS(SATICI_ID);
CREATE INDEX IX_SATIS_ALICI_ID ON SATIS(ALICI_ID);
CREATE INDEX IX_SATIS_SATIS_TARIHI ON SATIS(SATIS_TARIHI);

-- 9. EV_RESIMLERI tablosu için index
CREATE INDEX IX_EV_RESIMLERI_TAPU_NO ON EV_RESIMLERI(TAPU_NO);

-- 10. FAVORILER tablosu için index
CREATE INDEX IX_FAVORILER_KULLANICI_ID ON FAVORILER(KULLANICI_ID);